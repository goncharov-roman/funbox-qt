(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),i=n(9),s=n(8),u=n(17),l=n(18),m=n(12),p=Object(i.b)({points:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=t.id;switch(n){case"ADD_POINT":var o=Object(l.a)({},a,{id:r});return Object(u.a)(e).concat([o]);case"DELETE_POINT":var c=a;return e.filter(function(e){return e.id!==c});case"REFRESH_COORDS":return e.map(function(e){return e.id===a.id?Object(l.a)({},e,{coords:a.coords,name:a.name}):e});case"REPLACE_POINT":return Object(m.arrayMove)(Object(u.a)(e),a.oldIndex,a.newIndex);default:return e}},cCoords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{center:[44.2,43.13],zoom:10},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_CCOORDS":return a;default:return e}}}),d=n(2),f=n(3),b=n(5),h=n(4),O=n(6),E=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement("p",{className:"header_text"},"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432"))}}]),t}(a.Component),g=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"footer_wrapper"},r.a.createElement("div",{className:"footer_author"},r.a.createElement("p",{className:"footer_author_text"},"\u0413\u043e\u043d\u0447\u0430\u0440\u043e\u0432 \u0420\u043e\u043c\u0430\u043d")),r.a.createElement("div",{className:"footer_contacts"},r.a.createElement("a",{href:"mailto:romg92@mail.ru",className:"link link_mail"},r.a.createElement("img",{src:"images/mail.png",width:"35",height:"35",alt:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043d\u0430 \u043f\u043e\u0447\u0442\u0443"})),r.a.createElement("a",{href:"https://github.com/goncharov-roman",className:"link link_github"},r.a.createElement("img",{src:"images/github.png",width:"35",height:"35",alt:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442 Github"})))))}}]),t}(a.Component),v=n(10),j=n.n(v),y=n(15),C=0,w=function(e){return{type:"SET_CCOORDS",payload:e}},N=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:""},n.onInputChange=function(e){n.setState({inputValue:e.target.value})},n.onSubmit=function(){var e=Object(y.a)(j.a.mark(function e(t){var a,r,o,c,i,s;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,window.ymaps.geocode(n.state.inputValue,{results:1});case 3:a=e.sent,r=a.geoObjects.get(0).getAddressLine(),o=a.geoObjects.get(0).geometry.getCoordinates(),n.props.addPoint({name:r,coords:o}),c=_(n.props.points),i=c.center,s=c.zoom,n.props.setCCoords({center:i,zoom:s}),n.setState({inputValue:""});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(O.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},r.a.createElement("input",{className:"form_input",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441",value:this.state.inputValue,onChange:this.onInputChange}),r.a.createElement("button",{className:"button",type:"submit"},"OK"))}}]),t}(a.Component),_=function(e){if(0===e.length)return{center:[44.2,43.13],zoom:10};var t=e.map(function(e){return e.coords}),n=window.ymaps.util.bounds.fromPoints(t);return window.ymaps.util.bounds.getCenterAndZoom(n,[600,400])},k=Object(s.b)(function(e){return{points:e.points,cCoords:e.cCoords}},{addPoint:function(e){return{type:"ADD_POINT",payload:e,id:C++}},setCCoords:w})(N),D=n(13),P=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onPlacemarkDrag=function(){var e=Object(y.a)(j.a.mark(function e(t,a){var r,o;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ymaps.geocode(a);case 2:r=e.sent,o=r.geoObjects.get(0).properties.get("name"),n.props.refreshCoords(t,a,o);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(O.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.points,a=t.cCoords,o={center:a.center,zoom:a.zoom,controls:["zoomControl"]},c=n.map(function(t){return r.a.createElement(D.b,{key:t.id,geometry:{coordinates:t.coords},properties:{balloonContent:t.name},options:{draggable:!0},onDragEnd:function(n){n.stopPropagation();var a=n.originalEvent.target.geometry.getCoordinates();e.onPlacemarkDrag(t.id,a)}})}),i=r.a.createElement(D.c,{geometry:{coordinates:n.map(function(e){return e.coords})}});return r.a.createElement(D.d,null,r.a.createElement("div",{id:"map",className:"map"},r.a.createElement(D.a,{width:"100%",height:"100%",state:o,options:{maxZoom:15}},c,i)))}}]),t}(a.Component),x=Object(s.b)(function(e){return{points:e.points,cCoords:e.cCoords}},{refreshCoords:function(e,t,n){return{type:"REFRESH_COORDS",payload:{id:e,coords:t,name:n}}}})(P),S=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onBtnClick=function(e,t){e.preventDefault(),n.props.deletePoint(t)},n.onDragEnd=function(e){var t=e.oldIndex,a=e.newIndex;n.props.replacePoint(t,a)},n}return Object(O.a)(t,e),Object(f.a)(t,[{key:"componentDidUpdate",value:function(){var e=_(this.props.points),t=e.center,n=e.zoom;this.props.setCCoords({center:t,zoom:n})}},{key:"render",value:function(){var e=this,t=this.props.points,n=Object(m.SortableElement)(function(t){var n=t.point;return r.a.createElement("li",{className:"form_item"},r.a.createElement("p",{className:"form_address"},n.name),r.a.createElement("button",{className:"form_delete_button",type:"button",onClick:function(t){return e.onBtnClick(t,n.id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))}),a=t.map(function(e,t){return r.a.createElement(n,{key:e.id,index:t,point:e})}),o=Object(m.SortableContainer)(function(e){var t=e.items;return r.a.createElement("ul",{className:"form_items_wrapper"},t)});return r.a.createElement(o,{items:a,onSortEnd:this.onDragEnd})}}]),t}(a.Component),I=Object(s.b)(function(e){return{points:e.points}},{deletePoint:function(e){return{type:"DELETE_POINT",payload:e}},replacePoint:function(e,t){return{type:"REPLACE_POINT",payload:{oldIndex:e,newIndex:t}}},setCCoords:w})(S),R=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(k,null),r.a.createElement(I,null)),r.a.createElement(x,null)),r.a.createElement(g,null))}}]),t}(a.Component),T=Object(i.c)(p,{});c.a.render(r.a.createElement(s.a,{store:T},r.a.createElement(R,null)),document.getElementById("root"))}},[[24,2,1]]]);
//# sourceMappingURL=main.70b27d56.chunk.js.map